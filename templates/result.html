<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TSS - TreeSense ShortestPath - Result</title>
    <style>
      /* Black + Green palette, modern responsive card layout */
      :root{
        --bg:#060606; /* near black */
        --card:#0b0f0b; /* very dark green-black */
        --muted:#bfcfc2; /* light muted text */
        --accent:#22c55e; /* green */
        --accent-2:#00ff7f; /* brighter green */
        --glass:rgba(255,255,255,0.03);
      }

      html,body{height:100%;margin:0;font-family:Segoe UI, Roboto, -apple-system, 'Helvetica Neue', Arial; background:var(--bg); color:var(--muted);}
      .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px;box-sizing:border-box}
      .card{width:100%;max-width:900px;background:linear-gradient(180deg,var(--card),#071007);border-radius:12px;padding:24px;box-shadow:0 8px 30px rgba(0,0,0,0.6);border:1px solid rgba(34,197,94,0.06)}
      header{display:flex;align-items:center;justify-content:space-between;gap:12px}
      h2{margin:0;color:var(--accent-2);font-size:1.5rem;letter-spacing:0.4px}
      .sub{color:var(--muted);opacity:0.9;font-size:0.95rem}

      .media-grid{display:grid;grid-template-columns:1fr;gap:20px;margin-top:18px}
      .media-item{background:var(--glass);padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
      .media-item h3{margin:0 0 10px 0;color:var(--accent)}

      img.summary, video.summary{width:100%;height:auto;max-height:60vh;border-radius:8px;display:block;object-fit:contain;background:#000}

      .actions{display:flex;gap:12px;align-items:center;margin-top:18px}
      .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:8px;border:1px solid rgba(34,197,94,0.14);background:transparent;color:var(--accent);text-decoration:none;font-weight:600}
      .btn.secondary{color:var(--muted);border-color:transparent;background:rgba(255,255,255,0.02)}

      .notice{color:var(--muted);font-size:0.92rem}

      /* Responsive: side-by-side on larger screens */
      @media (min-width:800px){
        .media-grid{grid-template-columns:1fr 1fr}
        header{align-items:center}
      }

      /* Small screens padding */
      @media (max-width:420px){
        .card{padding:16px;border-radius:10px}
        h2{font-size:1.25rem}
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <main class="card" role="main" aria-labelledby="result-heading">
        <header>
          <div>
            <h2 id="result-heading">Processing Complete</h2>
            <div class="sub">Your job ID: <strong style="color:var(--accent)">{{ jobId }}</strong></div>
          </div>
          <div class="actions" aria-hidden="false">
            <a class="btn" href="/">‚Üê Upload Another Image</a>
          </div>
        </header>

        <section class="media-grid" aria-live="polite">
          {% if summaryAvailable %}
            <div class="media-item">
              <h3>Summary Image</h3>
              <img class="summary" src="/summary/{{ jobId }}.png" alt="Result summary for job {{ jobId }}">
            </div>
          {% else %}
            <div class="media-item">
              <h3>Summary Image</h3>
              <p class="notice">No summary image available.</p>
            </div>
          {% endif %}

          {% if videoAvailable %}
            <div class="media-item">
              <h3>Search Animation</h3>
              <video class="summary" controls autoplay loop muted playsinline aria-label="Search animation for job {{ jobId }}">
                <source src="/stream/video/{{ jobId }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
          {% else %}
            <div class="media-item">
              <h3>Search Animation</h3>
              <p class="notice">No video available.</p>
            </div>
          {% endif %}
        </section>

      </main>
    </div>
  </body>
</html>
