<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TSS - TreeSense ShortestPath</title>
    <style>
      /* Palette & tokens */
      :root{
        --bg-1: #07100a; /* deep black-green */
        --bg-2: #071b0f; /* slightly lighter */
        --accent: #1fb45a; /* bright green */
        --accent-2: #75d89b; /* pale green */
        --muted: #a8d9b8;
        --glass-border: rgba(127,255,178,0.06);
        --card-elev: 0 10px 40px rgba(2,6,4,0.75);
      }

      /* Base layout */
      html, body { height:100%; margin:0; }
      body{
        font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
        min-height:100vh; display:flex; align-items:center; justify-content:center; color:var(--muted); overflow:hidden; position:relative;
        background: linear-gradient(180deg,var(--bg-1),var(--bg-2));
      }

      /* Animated background layers (blurred moving gradients) */
      body::before,
      body::after{
        content: ""; position:absolute; inset: -20% -10% -20% -10%; z-index:0; pointer-events:none; filter: blur(80px); opacity:0.12;
        background-repeat:no-repeat; background-size:140% 140%; mix-blend-mode: screen;
        /* background layers are now static to avoid continuous motion */
      }
      body::before{ background-image: radial-gradient(ellipse at 10% 20%, rgba(31,180,90,0.85) 0%, rgba(31,180,90,0.18) 14%, transparent 28%), radial-gradient(ellipse at 85% 80%, rgba(117,216,155,0.6) 0%, transparent 24%); }
      body::after{ background-image: radial-gradient(ellipse at 80% 20%, rgba(20,150,70,0.9) 0%, transparent 22%), radial-gradient(ellipse at 20% 80%, rgba(10,100,50,0.6) 0%, transparent 30%); transform:rotate(12deg); }

      /* decorative orbs (kept) */
      .orb{position:absolute;border-radius:50%;filter:blur(28px);opacity:.11;z-index:0}
      .orb.o1{width:420px;height:420px;left:-90px;top:-80px;background:radial-gradient(circle at 30% 30%, var(--accent), transparent 40%)}
      .orb.o2{width:300px;height:300px;right:-80px;bottom:-100px;background:radial-gradient(circle at 70% 70%, var(--accent-2), transparent 40%)}
      .orb.o3{width:160px;height:160px;left:18%;bottom:8%;background:radial-gradient(circle at 30% 30%, #0ea15a, transparent 40%);opacity:.07}

      /* subtle floating motion */
      @keyframes floatA{ 0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)} }
      @keyframes floatB{ 0%{transform:translateY(0)}50%{transform:translateY(16px)}100%{transform:translateY(0)} }
      .o1{animation:floatA 8.5s ease-in-out infinite}
      .o2{animation:floatB 11s ease-in-out infinite}
      .o3{animation:floatA 13s ease-in-out infinite}

      /* Main container (glass) */
      .container{
        position:relative; z-index:2; width:min(920px,94%); max-width:980px; padding:44px; border-radius:18px;
        background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
        border:1px solid var(--glass-border); box-shadow:var(--card-elev);
        display:grid; grid-template-columns:1fr 420px; gap:32px; align-items:center; overflow:visible;
        backdrop-filter: blur(6px) saturate(1.05); /* base glass blur */
        transition: box-shadow 420ms ease; /* keep shadow transitions but remove translate animation */
      }

      .hero{ padding:6px 6px; }

      .logo{ display:flex; align-items:center; gap:12px }
      .logo .mark{ width:90px; height:56px; border-radius:12px; background:linear-gradient(135deg,var(--accent),#0fb76a); display:grid; place-items:center; box-shadow:0 6px 18px rgba(11,86,41,0.22); font-weight:700; color:#01200f }
      .logo h1{ margin:0; font-size:20px; color:var(--accent-2); letter-spacing:0.4px }
      .logo p{ margin:.2rem 0 0; color:var(--muted); font-size:13px }

      h2{ color:#fff; margin:10px 0 6px; font-size:26px }
      p.lead{ color:var(--muted); margin:0 0 8px }

      /* Upload card */
      .upload-card{
        padding:22px; border-radius:12px; border:1px dashed rgba(127,255,178,0.08);
        display:flex; flex-direction:column; align-items:stretch; gap:12px; background: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(255,255,255,0.02));
      }

      /* Drop area with smooth hover + focus */
      .drop-area{
        display:flex; flex-direction:column; align-items:center; justify-content:center; padding:18px; border-radius:10px;
        background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.06)); cursor:pointer; transition: box-shadow 380ms cubic-bezier(.2,.9,.2,1), transform 380ms cubic-bezier(.2,.9,.2,1), background 280ms ease, border-color 280ms ease;
        border:1px solid transparent;
      }
      .drop-area:focus-within,
      .drop-area:hover{ box-shadow:0 22px 54px rgba(0,0,0,0.6); transform:translateY(-6px); border-color: rgba(127,255,178,0.12); }
      .drop-area input[type=file]{ display:none }

      /* Buttons */
      .btn{
        display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:10px;
        background: linear-gradient(90deg,var(--accent),#0fb76a); border:none; color:#03220f; font-weight:600; cursor:pointer;
        transition: transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 260ms ease, opacity 180ms ease;
      }
      .btn:hover{ transform: translateY(-2px); box-shadow: 0 14px 34px rgba(11,86,41,0.14) }
      .btn:active{ transform: translateY(0) }
      .btn.secondary{ background:transparent; border:1px solid rgba(127,255,178,0.12); color:var(--muted) }
      .btn.secondary:hover{ box-shadow:0 10px 28px rgba(0,0,0,0.34) }

      /* meta */
      .meta{ display:flex; justify-content:space-between; align-items:center; font-size:13px; color:var(--muted) }

      /* focus states for accessibility */
      .btn:focus, .btn.secondary:focus, .drop-area:focus-within{ outline: 3px solid rgba(31,180,90,0.12); outline-offset:4px }

      /* Responsive */
      @media (max-width:920px){ .container{ grid-template-columns:1fr; padding:28px } .logo h1{ font-size:18px } }

    </style>
  </head>
  <body>
    <!-- decorative orbs -->
    <div class="orb o1" aria-hidden="true"></div>
    <div class="orb o2" aria-hidden="true"></div>
    <div class="orb o3" aria-hidden="true"></div>

    <main class="container" role="main">
      <section class="hero">
        <div class="logo">
          <div class="mark" aria-hidden="true">TSS</div>
          <div>
            <h1>TreeSense ShortestPath</h1>
            <p class="lead">Find the safest path through the jungle images using optimized approach of A* algorithm with visual analysis.</p>
          </div>
        </div>

        <h2>Upload an Image</h2>
        <p class="lead">Upload a photo of the scene and TSS will compute the best path. Supported types: images (jpg, png, jpeg).</p>

        <p style="margin-top:18px;color:var(--muted);font-size:13px">Tip: use clear overhead images for best results.</p>
      </section>

      <aside>
        <form action="/upload" method="post" enctype="multipart/form-data" class="upload-card" id="uploadForm">
          <label for="image" class="drop-area" id="dropArea">
            <svg width="72" height="72" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 2v13" stroke="#bff2d3" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M19 9l-7-7-7 7" stroke="#bff2d3" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <rect x="3" y="13" width="18" height="8" rx="2" stroke="#bff2d3" stroke-width="1.2" fill="rgba(127,255,178,0.02)"/>
            </svg>
            <strong style="color:var(--accent-2);">Choose or drop an image</strong>
            <span style="color:var(--muted);font-size:13px;margin-top:8px;">PNG, JPG, JPEG â€¢ Max 8MB</span>
            <input id="image" name="image" type="file" accept="image/*" required>
          </label>

          <div class="meta">
            <div id="fileName" style="color:var(--muted);">No file selected</div>
            <div style="display:flex;gap:8px">
              <button type="button" class="btn secondary" id="chooseBtn">Browse</button>
              <button type="submit" class="btn">Upload</button>
            </div>
          </div>
        </form>
      </aside>
    </main>

    <script>
      // Keep the server-side form data/behavior unchanged.
      (function(){
        const input = document.getElementById('image');
        const fileName = document.getElementById('fileName');
        const choose = document.getElementById('chooseBtn');
        const dropArea = document.getElementById('dropArea');

        choose.addEventListener('click', ()=> input.click());

        input.addEventListener('change', ()=>{
          if(!input.files || !input.files[0]){ fileName.textContent = 'No file selected'; return }
          fileName.textContent = input.files[0].name;
        });

        // Drag & drop support (progressive enhancement). It will set the file on the hidden input
        ;['dragenter','dragover'].forEach(evt => {
          dropArea.addEventListener(evt, e => { e.preventDefault(); dropArea.style.boxShadow='0 12px 40px rgba(0,0,0,0.6)'; });
        });
        ;['dragleave','drop'].forEach(evt => {
          dropArea.addEventListener(evt, e => { e.preventDefault(); dropArea.style.boxShadow=''; });
        });

        dropArea.addEventListener('drop', e => {
          const dt = e.dataTransfer;
          if (!dt || !dt.files || !dt.files.length) return;
          input.files = dt.files; // sets files for form submission
          input.dispatchEvent(new Event('change'));
        });
      })();
    </script>
  </body>
</html>
